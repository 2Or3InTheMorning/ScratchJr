**在html5中内置了两种数据库**
1. SQLite（也是WebSQL）
2. indexedDB

**W3C Web 应用工作组（Web Applications Working Group）已于2010年11月停止研究WebSQL规范**，理由是凡是使用Web SQL 数据库的浏览器对应的数据库管理系统均为SQLite，无法在其他数据库管理系统上实现，因此Web SQL 数据库无法继续成为W3C的推荐规范。Mozilla公司也是该标准的反对者之一，而同时Mozilla公司又是IndexedDB的主要支持者。

**我们目前使用SQLite，后续版本打算替换为indexedDB。**  


---

**核心方法**
1. openDatabase：使用现有的数据库或者新建的数据库创建一个数据库对象。
2. transaction：控制一个事务，以及基于这种情况执行提交或者回滚。
3. executeSql：执行实际的 SQL 查询。

**transaction.executeSql**(sqlquery,[],dataHandler,errorHandler)  
executeSql函数有四个参数，其意义分别是：
1. 查询的字符串，使用的SQL语言是SQLite 3.6.19。（必选）
2. 插入到查询中问号所在处的字符串数据。（可选**）**
3. 成功时执行的回调函数。返回两个参数：tx和执行的结果。（可选）
4. 失败时执行的回调函数。返回两个参数：tx和失败的错误信息。（可选）


---
**项目中使用数据库的数据结构**，样例如下：

{"stmt":"select name,thumbnail,id,isgift from projects where deleted = ? AND version = ? AND gallery IS NULL order by ctime desc","values":["NO","iOSv01"]}

let jsonData = JSON.parse(body);  
let stmtstr = jsonData[**"stmt"**];  
let values = jsonData[**"values"**];  

dataBase.transaction(function (tx) {  

    tx.executeSql(stmtstr, values,
         function (tx, results) {},
         function (tx, error) {}
    );
});
